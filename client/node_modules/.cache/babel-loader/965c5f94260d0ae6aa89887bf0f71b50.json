{"ast":null,"code":"var _jsxFileName = \"E:\\\\MERN_App\\\\client\\\\src\\\\components\\\\auth\\\\Register.js\";\nimport React, { Fragment, useState } from 'react';\nimport { connect } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport PropTypes from 'prop-types';\n/* eslint-disable import/first */\n// eslint-disable-next-line no-restricted-globals\n// eslint-disable-next-line\n\nimport { setAlert } from '../../actions/alert'; //la fonction register de l'action auth\n\nimport { register } from '../../actions/auth';\n\nconst Register = ({\n  setAlert,\n  register\n}) => {\n  //for states, an object that contains fields values : formData\n  //function we ll used to update fields\n  const [formData, setFormData] = useState({\n    lastname: '',\n    firstname: '',\n    email: '',\n    password: '',\n    password2: '',\n    picture: '',\n    status: '',\n    readterms: false,\n    subscribe: false\n  });\n  const {\n    lastname,\n    firstname,\n    email,\n    password,\n    password2,\n    picture,\n    status,\n    readterms,\n    subscribe\n  } = formData; // const [Checked, setChecked] = React.useState(undefined);\n  // const handlecheck = (e) => {\n  //  this.setformData({ readterms: e.target.checked });\n  // };\n\n  const onChange = e => {\n    console.log('change', e.target.value);\n    setFormData({ ...formData,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  const setCheckedSubs = e => {\n    console.log('subs');\n    setFormData({\n      [readterms]: e.target.checked\n    });\n  };\n\n  const setCheckedTerms = e => {\n    console.log('terms');\n    setFormData({\n      [readterms]: e.target.checked\n    });\n  };\n\n  const onSubmit = async e => {\n    //pour que la page ne se recharge pas\n    e.preventDefault();\n\n    if (formData.password !== formData.password2) {\n      setAlert('password do not match ', 'danger');\n    } else {\n      console.log('body dans register =', firstname);\n      register({\n        firstname,\n        lastname,\n        email,\n        password,\n        picture,\n        status,\n        readterms,\n        subscribe\n      });\n      /*   try {\r\n        const config = {\r\n          headers: { 'Content-Type': 'application/json' },\r\n        };\r\n          const body = JSON.stringify(formData);\r\n        console.log('body', body);\r\n        const res = await axios.post('/api/users', body, config);\r\n        console.log('res', res.data);\r\n      } catch (err) {\r\n        console.log('erreur axios', err);\r\n      }*/\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"large text-primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 7\n    }\n  }, \"Registration\"), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"lead\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fas fa-user\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 9\n    }\n  }), \" Create Your Account\"), /*#__PURE__*/React.createElement(\"form\", {\n    className: \"form\",\n    onSubmit: e => onSubmit(e),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    placeholder: \"FirstName\",\n    name: \"firstname\",\n    onChange: e => onChange(e),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    placeholder: \"LastName\",\n    name: \"lastname\",\n    value: lastname,\n    onChange: e => onChange(e),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"email\",\n    placeholder: \"Email Address\",\n    name: \"email\",\n    value: email,\n    onChange: e => onChange(e),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"small\", {\n    className: \"form-text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 11\n    }\n  }, \"This site uses Gravatar so if you want a profile image, use a Gravatar email\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"password\",\n    placeholder: \"Password\",\n    name: \"password\",\n    value: password,\n    onChange: e => onChange(e),\n    minLength: \"6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"password\",\n    placeholder: \"Confirm Password\",\n    name: \"password2\",\n    value: password2,\n    onChange: e => onChange(e),\n    minLength: \"6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"select\", {\n    name: \"status\",\n    value: status,\n    onChange: e => onChange(e),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 13\n    }\n  }, \"--- Select a status ---\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"Teacher\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 13\n    }\n  }, \"Teacher\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"Assistant\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 13\n    }\n  }, \"Assistant\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"Student\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 13\n    }\n  }, \"Student\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"file\",\n    placeholder: \"picture\",\n    name: \"picture\",\n    value: picture,\n    onChange: e => onChange(e),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 9\n    }\n  }, \"Subscribed\", /*#__PURE__*/React.createElement(\"input\", {\n    type: \"checkbox\",\n    checked: subscribe,\n    onChange: e => setCheckedSubs(e),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 11\n    }\n  })), \"Terms read\", /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"checkbox\",\n    checked: readterms // onChange={(e) => onChange(e)}\n    ,\n    onChange: e => setCheckedTerms(e),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"submit\",\n    className: \"btn btn-primary\",\n    value: \"Register\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"my-1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 7\n    }\n  }, \"Already have an account? \", /*#__PURE__*/React.createElement(Link, {\n    to: \"/login\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 34\n    }\n  }, \"Sign In\")));\n};\n\nRegister.propTypes = {\n  setAlert: PropTypes.func.isRequired,\n  //ptfr et entree\n  register: PropTypes.func.isRequired\n};\nexport default connect(null, {\n  setAlert,\n  register\n})(Register);","map":{"version":3,"sources":["E:/MERN_App/client/src/components/auth/Register.js"],"names":["React","Fragment","useState","connect","Link","PropTypes","setAlert","register","Register","formData","setFormData","lastname","firstname","email","password","password2","picture","status","readterms","subscribe","onChange","e","console","log","target","value","name","setCheckedSubs","checked","setCheckedTerms","onSubmit","preventDefault","propTypes","func","isRequired"],"mappings":"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","sourcesContent":["import React, { Fragment, useState } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\nimport PropTypes from 'prop-types';\r\n/* eslint-disable import/first */\r\n// eslint-disable-next-line no-restricted-globals\r\n// eslint-disable-next-line\r\nimport { setAlert } from '../../actions/alert';\r\n//la fonction register de l'action auth\r\nimport { register } from '../../actions/auth';\r\n\r\nconst Register = ({ setAlert, register }) => {\r\n  //for states, an object that contains fields values : formData\r\n  //function we ll used to update fields\r\n  const [formData, setFormData] = useState({\r\n    lastname: '',\r\n    firstname: '',\r\n    email: '',\r\n    password: '',\r\n    password2: '',\r\n    picture: '',\r\n    status: '',\r\n    readterms: false,\r\n    subscribe: false,\r\n  });\r\n  const {\r\n    lastname,\r\n    firstname,\r\n    email,\r\n    password,\r\n    password2,\r\n    picture,\r\n    status,\r\n    readterms,\r\n    subscribe,\r\n  } = formData;\r\n  // const [Checked, setChecked] = React.useState(undefined);\r\n  // const handlecheck = (e) => {\r\n  //  this.setformData({ readterms: e.target.checked });\r\n  // };\r\n  const onChange = (e) => {\r\n    console.log('change', e.target.value);\r\n    setFormData({\r\n      ...formData,\r\n      [e.target.name]: e.target.value,\r\n    });\r\n  };\r\n  const setCheckedSubs = (e) => {\r\n    console.log('subs');\r\n    setFormData({\r\n      [readterms]: e.target.checked,\r\n    });\r\n  };\r\n  const setCheckedTerms = (e) => {\r\n    console.log('terms');\r\n    setFormData({\r\n      [readterms]: e.target.checked,\r\n    });\r\n  };\r\n  const onSubmit = async (e) => {\r\n    //pour que la page ne se recharge pas\r\n    e.preventDefault();\r\n\r\n    if (formData.password !== formData.password2) {\r\n      setAlert('password do not match ', 'danger');\r\n    } else {\r\n      console.log('body dans register =', firstname);\r\n      register({\r\n        firstname,\r\n        lastname,\r\n        email,\r\n        password,\r\n        picture,\r\n        status,\r\n        readterms,\r\n        subscribe,\r\n      });\r\n      /*   try {\r\n        const config = {\r\n          headers: { 'Content-Type': 'application/json' },\r\n        };\r\n\r\n        const body = JSON.stringify(formData);\r\n        console.log('body', body);\r\n        const res = await axios.post('/api/users', body, config);\r\n        console.log('res', res.data);\r\n      } catch (err) {\r\n        console.log('erreur axios', err);\r\n      }*/\r\n    }\r\n  };\r\n  return (\r\n    <Fragment>\r\n      <h1 className='large text-primary'>Registration</h1>\r\n      <p className='lead'>\r\n        <i className='fas fa-user'></i> Create Your Account\r\n      </p>\r\n      <form className='form' onSubmit={(e) => onSubmit(e)}>\r\n        <div className='form-group'>\r\n          <input\r\n            type='text'\r\n            placeholder='FirstName'\r\n            name='firstname'\r\n            onChange={(e) => onChange(e)}\r\n          />\r\n        </div>\r\n        <div className='form-group'>\r\n          <input\r\n            type='text'\r\n            placeholder='LastName'\r\n            name='lastname'\r\n            value={lastname}\r\n            onChange={(e) => onChange(e)}\r\n          />\r\n        </div>\r\n        <div className='form-group'>\r\n          <input\r\n            type='email'\r\n            placeholder='Email Address'\r\n            name='email'\r\n            value={email}\r\n            onChange={(e) => onChange(e)}\r\n          />\r\n          <small className='form-text'>\r\n            This site uses Gravatar so if you want a profile image, use a\r\n            Gravatar email\r\n          </small>\r\n        </div>\r\n        <div className='form-group'>\r\n          <input\r\n            type='password'\r\n            placeholder='Password'\r\n            name='password'\r\n            value={password}\r\n            onChange={(e) => onChange(e)}\r\n            minLength='6'\r\n          />\r\n        </div>\r\n        <div className='form-group'>\r\n          <input\r\n            type='password'\r\n            placeholder='Confirm Password'\r\n            name='password2'\r\n            value={password2}\r\n            onChange={(e) => onChange(e)}\r\n            minLength='6'\r\n          />\r\n        </div>\r\n        <div className='form-group'>\r\n          <select name='status' value={status} onChange={(e) => onChange(e)}>\r\n            <option>--- Select a status ---</option>\r\n            <option value='Teacher'>Teacher</option>\r\n            <option value='Assistant'>Assistant</option>\r\n            <option value='Student'>Student</option>\r\n          </select>\r\n        </div>\r\n        <div className='form-group'>\r\n          <input\r\n            type='file'\r\n            placeholder='picture'\r\n            name='picture'\r\n            value={picture}\r\n            onChange={(e) => onChange(e)}\r\n          />\r\n        </div>\r\n        <div className='form-group'>\r\n          Subscribed\r\n          <input\r\n            type='checkbox'\r\n            checked={subscribe}\r\n            onChange={(e) => setCheckedSubs(e)}\r\n          />\r\n        </div>\r\n        Terms read\r\n        <div className='form-group'>\r\n          <input\r\n            type='checkbox'\r\n            checked={readterms}\r\n            // onChange={(e) => onChange(e)}\r\n            onChange={(e) => setCheckedTerms(e)}\r\n          />\r\n        </div>\r\n        <input type='submit' className='btn btn-primary' value='Register' />\r\n      </form>\r\n      <p className='my-1'>\r\n        Already have an account? <Link to='/login'>Sign In</Link>\r\n      </p>\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nRegister.propTypes = {\r\n  setAlert: PropTypes.func.isRequired,\r\n  //ptfr et entree\r\n  register: PropTypes.func.isRequired,\r\n};\r\nexport default connect(null, { setAlert, register })(Register);\r\n"]},"metadata":{},"sourceType":"module"}